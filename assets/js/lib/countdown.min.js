/*! Groovecrowd - v0.0.1 - 2012-07-05
* http://groovecrowd.com
* Includes: countdown.js
* Copyright (c) 2012 Jarad DeLorenzo; */
var module,countdown=function(a){function A(a,b){var c=a.getTime();return a.setUTCMonth(a.getUTCMonth()+b),z((a.getTime()-c)/r)}function B(a,b,c){return a+" "+(a===1?b:c)}function D(){}function E(a){var b;a.milliseconds<0?(b=x(-a.milliseconds/n),a.seconds-=b,a.milliseconds+=b*n):a.milliseconds>=n&&(a.seconds+=y(a.milliseconds/n),a.milliseconds%=n),a.seconds<0?(b=x(-a.seconds/o),a.minutes-=b,a.seconds+=b*o):a.seconds>=o&&(a.minutes+=y(a.seconds/o),a.seconds%=o),a.minutes<0?(b=x(-a.minutes/p),a.hours-=b,a.minutes+=b*p):a.minutes>=p&&(a.hours+=y(a.minutes/p),a.minutes%=p),a.hours<0?(b=x(-a.hours/q),a.days-=b,a.hours+=b*q):a.hours>=q&&(a.days+=y(a.hours/q),a.hours%=q);while(a.days<0)a.months--,a.days+=A(a.refMonth,1);a.days>=s&&(a.weeks+=y(a.days/s),a.days%=s),a.months<0?(b=x(-a.months/t),a.years-=b,a.months+=b*t):a.months>=t&&(a.years+=y(a.months/t),a.months%=t),a.years>=u&&(a.decades+=y(a.years/u),a.years%=u,a.decades>=v&&(a.centuries+=y(a.decades/v),a.decades%=v,a.centuries>=w&&(a.millennia+=y(a.centuries/w),a.centuries%=w)))}function F(a,m){m&l||(a.centuries+=a.millennia*w,delete a.millennia),m&k||(a.decades+=a.centuries*v,delete a.centuries),m&j||(a.years+=a.decades*u,delete a.decades),m&i||(a.months+=a.years*t,delete a.years),!(m&h)&&a.months&&(a.days+=A(a.refMonth,a.months),delete a.months,a.days>=s&&(a.weeks+=y(a.days/s),a.days%=s)),m&g||(a.days+=a.weeks*s,delete a.weeks),m&f||(a.hours+=a.days*q,delete a.days),m&e||(a.minutes+=a.hours*p,delete a.hours),m&d||(a.seconds+=a.minutes*o,delete a.minutes),m&c||(a.milliseconds+=a.seconds*n,delete a.seconds),m&b||delete a.milliseconds}function G(a,b,c,d){a.start=b,a.end=c,a.units=d,a.value=c.getTime()-b.getTime();if(a.value<0){var e=c;c=b,b=e}a.refMonth=new Date(b.getFullYear(),b.getMonth(),15);try{a.millennia=0,a.centuries=0,a.decades=0,a.years=c.getUTCFullYear()-b.getUTCFullYear(),a.months=c.getUTCMonth()-b.getUTCMonth(),a.weeks=0,a.days=c.getUTCDate()-b.getUTCDate(),a.hours=c.getUTCHours()-b.getUTCHours(),a.minutes=c.getUTCMinutes()-b.getUTCMinutes(),a.seconds=c.getUTCSeconds()-b.getUTCSeconds(),a.milliseconds=c.getUTCMilliseconds()-b.getUTCMilliseconds(),E(a),F(a,d)}finally{delete a.refMonth}return a}function H(a){return a&b?n/30:a&c?n:a&d?n*o:a&e?n*o*p:a&f?n*o*p*q:n*o*p*q*s}function I(a,b,c){var d;c=c||m,"function"==typeof a?(d=a,a=null):a instanceof Date||(a=a!==null&&isFinite(a)?new Date(a):null),"function"==typeof b?(d=b,b=null):b instanceof Date||(b=b!==null&&isFinite(b)?new Date(b):null);if(!a&&!b)return new D;if(!d)return G(new D,a||new Date,b||new Date,c);var e=H(c),f=function(){d(G(new D,a||new Date,b||new Date,c))};return f(),setInterval(f,e)}"use strict";var b=1,c=2,d=4,e=8,f=16,g=32,h=64,i=128,j=256,k=512,l=1024,m=i|h|f|e|d|c,n=1e3,o=60,p=60,q=24,r=q*p*o*n,s=7,t=12,u=10,v=10,w=10,x=Math.ceil,y=Math.floor,z=Math.round,C;return D.prototype.toString=function(a){var b=C(this);b.length>a&&(b=b.slice(0,a));var c=b.length;return c?(c>1&&(b[c-1]="and "+b[c-1]),b.join(", ")):""},D.prototype.toHTML=function(a,b){a=a||"span";var c=C(this);c.length>b&&(c=c.slice(0,b));var d=c.length;if(!d)return"";for(var e=0;e<d;e++)c[e]="<"+a+">"+c[e]+"</"+a+">";return--d&&(c[d]="and "+c[d]),c.join(", ")},D.prototype.toShort=function(a){var b=C(this);return a=a>0?a:1,b.length>a&&(b=b.slice(0,a)),a=b.length,a?(a>1&&(b[a-1]="and "+b[a-1]),b.join(", ")):""},C=function(a){var b=[];return a.millennia&&b.push(B(a.millennia,"millennium","millennia")),a.centuries&&b.push(B(a.centuries,"century","centuries")),a.decades&&b.push(B(a.decades,"decade","decades")),a.years&&b.push(B(a.years,"year","years")),a.months&&b.push(B(a.months,"month","months")),a.weeks&&b.push(B(a.weeks,"week","weeks")),a.days&&b.push(B(a.days,"day","days")),a.hours&&b.push(B(a.hours,"hour","hours")),a.minutes&&b.push(B(a.minutes,"minute","minutes")),a.seconds&&b.push(B(a.seconds,"second","seconds")),a.milliseconds&&b.push(B(a.milliseconds,"millisecond","milliseconds")),b},I.MILLISECONDS=b,I.SECONDS=c,I.MINUTES=d,I.HOURS=e,I.DAYS=f,I.WEEKS=g,I.MONTHS=h,I.YEARS=i,I.DECADES=j,I.CENTURIES=k,I.MILLENNIA=l,I.DEFAULTS=m,I.ALL=l|k|j|i|h|g|f|e|d|c|b,a&&a.exports&&(a.exports=I),I}(module);